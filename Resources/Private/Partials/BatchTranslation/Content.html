<h1 class="test">Backend Module Test</h1>
<f:debug inline="1">{_all}</f:debug>

<div class="panel panel-default">
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th></th>
                <th>Page</th>
                <th><f:translate key="LLL:EXT:autotranslate/Resources/Private/Language/locallang_db.xlf:autotranslate_batch.priority"/></th>
                <th><f:translate key="LLL:EXT:autotranslate/Resources/Private/Language/locallang_db.xlf:autotranslate_batch.sys_language_uid"/></th>
                <th><f:translate key="LLL:EXT:autotranslate/Resources/Private/Language/locallang_db.xlf:autotranslate_batch.translate"/></th>
                <th><f:translate key="LLL:EXT:autotranslate/Resources/Private/Language/locallang_db.xlf:autotranslate_batch.translated"/></th>
                <th><f:translate key="LLL:EXT:autotranslate/Resources/Private/Language/locallang_db.xlf:autotranslate_batch.frequency"/></th>
                <th><f:translate key="LLL:EXT:autotranslate/Resources/Private/Language/locallang_db.xlf:autotranslate_batch.type"/></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <f:for each="{batchItemsRecursive}" as="record">
                <tr class="{record.class}" title="id={record.uid}">
                    <td><input type="checkbox"></td>
                    <td class="nowrap" title="id={record.pid}">{record.page}  {record.pageTitle}</td>
                    <td><f:translate key="LLL:EXT:autotranslate/Resources/Private/Language/locallang_db.xlf:autotranslate_batch.priority.{record.priority}"/></td>
                    <td title="id={record.sysLanguageUid}">{record.sysLanguageTitle}</td>
                    <td><f:format.date format="d.m.Y - H:i">{record.translate}</f:format.date></td>
                    <td><f:translate key="LLL:EXT:autotranslate/Resources/Private/Language/locallang_db.xlf:autotranslate_batch.type.{record.type}"/></td>
                    <td>
                        <f:if condition="{record.translated}">
                            <f:then>
                                <f:format.date format="d.m.Y - H:i">{record.translated}</f:format.date>
                            </f:then>
                            <f:else>
                                <small>-</small>
                            </f:else>
                        </f:if>
                    </td>
                    <td title="{rcord.frequencyDateInterval}"><f:translate key="LLL:EXT:autotranslate/Resources/Private/Language/locallang_db.xlf:autotranslate_batch.frequency.{record.frequency}"/></td>
                    <td>
                        <div class="btn-group">
                            <be:link.editRecord uid="{record.uid}" table="tx_autotranslate_batch_item" returnUrl="{f:be.uri(route: 'web_autotranslate', parameters:'{id:pageUid}')}" class="btn btn-default">
                                <core:icon identifier="actions-edit-unhide"/><core:icon identifier="actions-edit-hide"/>
                            </be:link.editRecord>
                            

                            <be:link.editRecord uid="{record.uid}" table="tx_autotranslate_batch_item" returnUrl="{f:be.uri(route: 'web_autotranslate', parameters:'{id:pageUid}')}" class="btn btn-default">
                                <core:icon identifier="actions-file-edit"/>
                            </be:link.editRecord>
                            <button
                                type="submit"
                                class="btn btn-default t3js-modal-trigger"
                                data-target-form="autotranslate_batch_item_remove_{record.uid}"
                                title="{f:translate(key:'delete')}"
                                data-severity="warning"
                                data-title="{f:translate(key:'LLL:EXT:backend/Resources/Private/Language/locallang_alt_doc.xlf:label.confirm.delete_record.title')}"
                                data-bs-content="{f:translate(key:'confirm',arguments:'{0:record.uid}')}"
                                data-button-close-text="{f:translate(key:'LLL:EXT:core/Resources/Private/Language/locallang_common.xlf:cancel')}"
                                data-button-ok-text="{f:translate(key:'LLL:EXT:backend/Resources/Private/Language/locallang_alt_doc.xlf:buttons.confirm.delete_record.yes')}">
                                <core:icon identifier="actions-edit-delete" />
                            </button>
                            <form action="{be:moduleLink(route:'tce_db', currentUrlParameterName:'redirect')}" name="autotranslate_batch_item_remove_{record.uid}" id="autotranslate_batch_item_remove_{record.uid}" method="post">
                                <input name="cmd[tx_autotranslate_batch_item][{record.uid}][delete]=1" type="hidden" value="{record.uid}">
                            </form>
                        </div>
                    </td>
                </tr>
            </f:for>
            <tr>
                <td><input type="checkbox"></td>
                <td class="nowrap">Record planned to execute</td>
                <td><a href="#">Donec id elit</a></td>
                <td align="right">1.900,50</td>
            </tr>
            <tr class="success">
                <td><input type="checkbox"></td>
                <td class="nowrap">
                    Record executed successfully
                        <b>Second row</b>
                        <small>not second class</small>
                </td>
                <td><a href="#">Donec id elit</a></td>
                <td align="right">9.300,20</td>
            </tr>
            <tr class="warning">
                <td><input type="checkbox"></td>
                <td class="nowrap">Record waiting to execute</td>
                <td><a href="#">Donec id elit</a></td>
                <td align="right">0,00</td>
            </tr>
            <tr class="danger">
                <td><input type="checkbox"></td>
                <td>Record executed with Error</td>
                <td><a href="#">Donec id elit</a></td>
                <td align="right">0,00</td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td colspan="4">
                    {batchItemsRecursive -> f:count()} Entries
                </td>
            </tr>
        </tfoot>
    </table>
</div>
